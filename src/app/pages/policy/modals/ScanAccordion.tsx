import React, { useState } from "react";
import modeAtomsAtom from "../../../atoms/modeAtoms.atom";
import { useRecoilValue } from "recoil";
type Props = {
  name: string;
  status: string;
  region: string;
  service: string;
  severity?: string;
  groupId: string;
  message: string;
  description: string;
  isLast: boolean;
};

const ScanAccordion = ({
  name,
  region,
  service,
  status,
  severity,
  description,
  groupId,
  message,
  isLast
}: Props) => {
  const { mode } = useRecoilValue(modeAtomsAtom);
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div className="w-full">
      <button
        className={`grid grid-cols-6 ${ isLast ? "" : "border-bottom"} py-3 w-full`}
        onClick={() => setIsOpen(!isOpen)}
      >
        <div className=" col-span-2 flex items-center gap-5">
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M2 3.3335H7.33333"
              stroke={mode === "dark" ? "#EAEAEA" : "#373737"}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M2 8H10.6667"
              stroke={mode === "dark" ? "#EAEAEA" : "#373737"}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M2 12.6665H14"
              stroke={mode === "dark" ? "#EAEAEA" : "#373737"}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
          <p>{name}</p>
        </div>
        <p>{region}</p>
        <p>{service}</p>
        <p className={severity === "HIGH" ? "text-[#FF161A]" : ""}>{severity}</p>
        <p>
          {status === "failed" ? (
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_182_164)">
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M5.76058 5.76083C5.95584 5.56557 6.27242 5.56557 6.46769 5.76083L7.99975 7.29289L9.53182 5.76083C9.72708 5.56557 10.0437 5.56557 10.2389 5.76083C10.4342 5.95609 10.4342 6.27267 10.2389 6.46794L8.70686 8L10.2389 9.53206C10.4342 9.72733 10.4342 10.0439 10.2389 10.2392C10.0437 10.4344 9.72708 10.4344 9.53182 10.2392L7.99975 8.70711L6.46769 10.2392C6.27242 10.4344 5.95584 10.4344 5.76058 10.2392C5.56532 10.0439 5.56532 9.72733 5.76058 9.53206L7.29264 8L5.76058 6.46794C5.56532 6.27267 5.56532 5.95609 5.76058 5.76083Z"
                  fill="#FF161A"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M8 1.8335C4.59424 1.8335 1.83333 4.59441 1.83333 8.00016C1.83333 11.4059 4.59424 14.1668 8 14.1668C11.4058 14.1668 14.1667 11.4059 14.1667 8.00016C14.1667 4.59441 11.4058 1.8335 8 1.8335ZM0.833328 8.00016C0.833328 4.04212 4.04195 0.833496 8 0.833496C11.958 0.833496 15.1667 4.04212 15.1667 8.00016C15.1667 11.9582 11.958 15.1668 8 15.1668C4.04195 15.1668 0.833328 11.9582 0.833328 8.00016Z"
                  fill="#FF161A"
                />
              </g>
              <defs>
                <clipPath id="clip0_182_164">
                  <rect width="16" height="16" fill="white" />
                </clipPath>
              </defs>
            </svg>
          ) : (
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M0.646447 7.97994C0.841709 7.78468 1.15829 7.78468 1.35355 7.97994L4 10.6264L5.64645 8.97994C5.84171 8.78468 6.15829 8.78468 6.35355 8.97994C6.54882 9.1752 6.54882 9.49179 6.35355 9.68705L4.6364 11.4042C4.28492 11.7557 3.71508 11.7557 3.3636 11.4042L0.646447 8.68705C0.451184 8.49179 0.451184 8.1752 0.646447 7.97994Z"
                fill="#2AB849"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11.0202 4.31295C11.2155 4.50821 11.2155 4.8248 11.0202 5.02006L8.35355 7.68672C8.15829 7.88199 7.84171 7.88199 7.64645 7.68672C7.45118 7.49146 7.45118 7.17488 7.64645 6.97962L10.3131 4.31295C10.5084 4.11769 10.825 4.11769 11.0202 4.31295Z"
                fill="#2AB849"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M15.0202 4.31295C15.2154 4.50821 15.2154 4.8248 15.0202 5.02006L8.63636 11.4039C8.28488 11.7554 7.71504 11.7554 7.36356 11.4039L4.31307 8.35339C4.11781 8.15813 4.11781 7.84155 4.31307 7.64628C4.50833 7.45102 4.82492 7.45102 5.02018 7.64628L7.99996 10.6261L14.3131 4.31295C14.5083 4.11769 14.8249 4.11769 15.0202 4.31295Z"
                fill="#2AB849"
              />
            </svg>
          )}
        </p>
      </button>
      {isOpen && (
        <div className={`w-full md:pl-8 p-10 ${ isLast ? "" : "border-bottom"}`}>
          <div className="grid grid-cols-3 gap-y-4">
            <p>Status:</p>
            <p
              className={
                status === "failed"
                  ? "text-[#FF161A] col-span-2"
                  : "text-[#2AB849] col-span-2"
              }
            >
              {status.toUpperCase()}
            </p>
            <p>Message:</p>
            <p className="text-left col-span-2">{message}</p>
            <p>Description:</p>
            <p className="text-left col-span-2">{description}</p>
            <p>GroupId:</p>
            <p className="text-left col-span-2">{groupId}</p>
          </div>
          <button className="bg-primary text-white flex items-center gap-3 rounded-md px-3 py-2 mt-6">
            <p>Resolve</p>
            <svg
              width="16"
              height="17"
              viewBox="0 0 16 17"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M8.97977 12.813C9.17504 12.6177 9.49162 12.6177 9.68688 12.813L11.3333 14.4594L14.3131 11.4796C14.5084 11.2844 14.825 11.2844 15.0202 11.4796C15.2155 11.6749 15.2155 11.9915 15.0202 12.1867L11.6869 15.5201C11.4916 15.7153 11.175 15.7153 10.9798 15.5201L8.97977 13.5201C8.78451 13.3248 8.78451 13.0082 8.97977 12.813Z"
                fill="white"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M2.66675 4C2.94289 4 3.16675 4.22386 3.16675 4.5V8.48743C3.16712 8.49079 3.16782 8.49629 3.16906 8.50374C3.1731 8.52798 3.18284 8.57258 3.20567 8.63128C3.25022 8.74584 3.34929 8.92649 3.57548 9.12037C4.03142 9.51118 5.05991 10 7.33341 10C9.60692 10 10.6354 9.51118 11.0914 9.12037C11.3175 8.92649 11.4166 8.74584 11.4612 8.63128C11.484 8.57258 11.4937 8.52798 11.4978 8.50374C11.499 8.49629 11.4997 8.49079 11.5001 8.48743V4.5C11.5001 4.22386 11.7239 4 12.0001 4C12.2762 4 12.5001 4.22386 12.5001 4.5V8.5H12.0001C12.5001 8.5 12.5001 8.50058 12.5001 8.50116L12.5001 8.50238L12.5001 8.50496L12.5 8.51071L12.4996 8.52454C12.4992 8.53478 12.4985 8.54706 12.4974 8.56123C12.4952 8.58957 12.4913 8.62557 12.4842 8.66814C12.47 8.75328 12.4433 8.86492 12.3932 8.99372C12.2919 9.25416 12.0993 9.57351 11.7421 9.87963C11.0314 10.4888 9.72657 11 7.33341 11C4.94025 11 3.63541 10.4888 2.92469 9.87963C2.56754 9.57351 2.37494 9.25416 2.27366 8.99372C2.22357 8.86492 2.19686 8.75328 2.18267 8.66814C2.17557 8.62557 2.1716 8.58957 2.16939 8.56123C2.16829 8.54706 2.16763 8.53478 2.16724 8.52454L2.16685 8.51071L2.16677 8.50496L2.16675 8.50238L2.16675 8.50116C2.16675 8.50058 2.16675 8.5 2.66675 8.5H2.16675V4.5C2.16675 4.22386 2.39061 4 2.66675 4Z"
                fill="white"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M2.92468 3.12037C3.63541 2.51118 4.94025 2 7.33341 2C9.72657 2 11.0314 2.51118 11.7421 3.12037C12.0993 3.42649 12.2919 3.74584 12.3932 4.00628C12.4433 4.13508 12.47 4.24672 12.4842 4.33186C12.4913 4.37443 12.4952 4.41043 12.4974 4.43877C12.4985 4.45294 12.4992 4.46522 12.4996 4.47546L12.5 4.48929L12.5001 4.49504L12.5001 4.49762L12.5001 4.49884C12.5001 4.49942 12.5001 4.5 12.0001 4.5C12.5001 4.5 12.5001 4.50058 12.5001 4.50116L12.5001 4.50238L12.5001 4.50496L12.5 4.51071L12.4996 4.52454C12.4992 4.53478 12.4985 4.54706 12.4974 4.56123C12.4952 4.58957 12.4913 4.62557 12.4842 4.66814C12.47 4.75328 12.4433 4.86492 12.3932 4.99372C12.2919 5.25416 12.0993 5.57351 11.7421 5.87963C11.0314 6.48882 9.72657 7 7.33341 7C4.94025 7 3.63541 6.48882 2.92468 5.87963C2.56754 5.57351 2.37494 5.25416 2.27366 4.99372C2.22357 4.86492 2.19685 4.75328 2.18266 4.66814C2.17557 4.62557 2.1716 4.58957 2.16939 4.56123C2.16829 4.54706 2.16763 4.53478 2.16724 4.52454L2.16685 4.51071L2.16677 4.50496L2.16675 4.50238L2.16675 4.50116C2.16675 4.50058 2.16675 4.5 2.66675 4.5C2.16675 4.5 2.16675 4.49942 2.16675 4.49884L2.16675 4.49762L2.16677 4.49504L2.16685 4.48929L2.16724 4.47546C2.16763 4.46522 2.16829 4.45294 2.16939 4.43877C2.1716 4.41043 2.17557 4.37443 2.18266 4.33186C2.19685 4.24672 2.22357 4.13508 2.27366 4.00628C2.37494 3.74584 2.56754 3.42649 2.92468 3.12037ZM3.16845 4.5C3.16864 4.50119 3.16884 4.50243 3.16906 4.50374C3.1731 4.52797 3.18284 4.57258 3.20567 4.63128C3.25022 4.74584 3.34929 4.92649 3.57548 5.12037C4.03142 5.51118 5.05991 6 7.33341 6C9.60692 6 10.6354 5.51118 11.0914 5.12037C11.3175 4.92649 11.4166 4.74584 11.4612 4.63128C11.484 4.57258 11.4937 4.52797 11.4978 4.50374C11.498 4.50243 11.4982 4.50119 11.4984 4.5C11.4982 4.49881 11.498 4.49757 11.4978 4.49626C11.4937 4.47203 11.484 4.42742 11.4612 4.36872C11.4166 4.25416 11.3175 4.07351 11.0914 3.87963C10.6354 3.48882 9.60692 3 7.33341 3C5.05991 3 4.03142 3.48882 3.57548 3.87963C3.34929 4.07351 3.25022 4.25416 3.20567 4.36872C3.18284 4.42742 3.1731 4.47203 3.16906 4.49626C3.16884 4.49757 3.16864 4.49881 3.16845 4.5Z"
                fill="white"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M2.66675 8C2.94289 8 3.16675 8.22386 3.16675 8.5V12.4874C3.16712 12.4908 3.16782 12.4963 3.16906 12.5037C3.1731 12.528 3.18284 12.5726 3.20567 12.6313C3.25022 12.7458 3.34929 12.9265 3.57548 13.1204C4.03142 13.5112 5.05991 14 7.33342 14C7.60956 14 7.83342 14.2239 7.83342 14.5C7.83342 14.7761 7.60956 15 7.33342 15C4.94025 15 3.63541 14.4888 2.92469 13.8796C2.56754 13.5735 2.37494 13.2542 2.27366 12.9937C2.22357 12.8649 2.19686 12.7533 2.18267 12.6681C2.17557 12.6256 2.1716 12.5896 2.16939 12.5612C2.16829 12.5471 2.16763 12.5348 2.16724 12.5245L2.16685 12.5107L2.16677 12.505L2.16675 12.5024L2.16675 12.5012C2.16675 12.5006 2.16675 12.5 2.66675 12.5H2.16675V8.5C2.16675 8.22386 2.39061 8 2.66675 8Z"
                fill="white"
              />
            </svg>
          </button>
        </div>
      )}
    </div>
  );
};

export default ScanAccordion;
